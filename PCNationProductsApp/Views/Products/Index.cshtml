@addTagHelper*, Microsoft.AspNetCore.Mvc.TagHelpers
@using PCNationProductsApp.Models
@model ParentViewModel

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>    
</head>
<body>
    <h3>List of Products</h3>
    <hr />
    <form asp-action="Index" asp-controller="Products" method="post">
        <table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="95%">
            <thead>
                <tr>
                    <th class="th-sm">
                        Product ID
                    </th>
                    <th class="th-sm">
                        Brand Name
                    </th>
                    <th class="th-sm">
                        Product Name
                    </th>
                    <th class="th-sm">
                        Category
                    </th>
                    <th class="th-sm">
                        Model Year
                    </th>
                    <th class="th-sm">
                        List Price
                    </th>
                    <th class="th-sm">
                        Quantity
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (ProductViewModel item in Model.Products)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.ProductId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BrandName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ProductName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CategoryName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ModelYear)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ListPrice)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Quantity)
                        </td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.ProductId">Edit</a> |
                            <a asp-action="Delete" asp-route-id="@item.ProductId">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        <br />
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                 @for (int i = 1; i <= Model.PageCount; i++)
                {
                    @if (i != Model.CurrentPageIndex)
                    {
                        <li class="page-item"><a class="page-link" href="javascript:PagerClick(@i);">@i</a></li>
                    }
                    else
                    {
                        <li class="page-item"><a class="page-link" href="#">@i</a></li>
                    }
                }               
            </ul>
        </nav>      
        <input type="hidden" id="hfCurrentPageIndex" name="currentPageIndex" />
    </form>
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
</body>
</html>